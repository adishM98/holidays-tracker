# =============================================================================
# LEAVE MANAGEMENT SYSTEM - PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# For production deployments (Docker, VPS, Cloud, etc.)
# Copy this file to .env.production and update with your production values
#
# SECURITY WARNING: Never commit .env.production to version control!
# Add .env.production to .gitignore
#
# Usage with Docker Compose:
#   docker-compose --env-file .env.production up -d
#
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV=production
PORT=3000

# =============================================================================
# DATABASE CONFIGURATION (Production)
# =============================================================================
# Use strong credentials and enable SSL for production databases
DATABASE_HOST=postgres  # For Docker, use service name. For external DB, use hostname
DATABASE_PORT=5432
DATABASE_USERNAME=leave_mgmt_user
DATABASE_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD
DATABASE_NAME=leave_management_prod
DATABASE_SSL=true  # Enable for cloud databases (AWS RDS, Azure, etc.)

# For external managed databases (AWS RDS, DigitalOcean, etc.):
# DATABASE_HOST=your-db-instance.region.rds.amazonaws.com
# DATABASE_PORT=5432
# DATABASE_SSL=true

# =============================================================================
# JWT AUTHENTICATION (CRITICAL: Change these!)
# =============================================================================
# Generate strong random secrets:
# openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_TO_VERY_STRONG_RANDOM_SECRET_KEY_AT_LEAST_64_CHARS
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_SECRET=CHANGE_THIS_TO_DIFFERENT_VERY_STRONG_RANDOM_SECRET
REFRESH_TOKEN_EXPIRES_IN=30d

# =============================================================================
# EMAIL CONFIGURATION (Production SMTP)
# =============================================================================
# Use a reliable SMTP service (SendGrid, Mailgun, AWS SES, etc.)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USERNAME=apikey
SMTP_PASSWORD=YOUR_SENDGRID_API_KEY
FROM_EMAIL=noreply@yourdomain.com

# Alternative providers:
# SendGrid: smtp.sendgrid.net:587
# Mailgun: smtp.mailgun.org:587
# AWS SES: email-smtp.region.amazonaws.com:587
# Postmark: smtp.postmarkapp.com:587

# =============================================================================
# FILE UPLOAD
# =============================================================================
MAX_FILE_SIZE=10485760
UPLOAD_PATH=/app/uploads  # Use absolute path for Docker

# =============================================================================
# CORS & FRONTEND URL (Production)
# =============================================================================
# Your production frontend URL
FRONTEND_URL=https://yourdomain.com

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_PREFIX=api
# Stricter rate limiting for production
THROTTLE_TTL=60000
THROTTLE_LIMIT=50

# =============================================================================
# GOOGLE CALENDAR INTEGRATION (Production)
# =============================================================================
GOOGLE_CALENDAR_ENABLED=true
GOOGLE_CLIENT_ID=your-production-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-production-google-client-secret
GOOGLE_REDIRECT_URI=https://yourdomain.com/api/google-calendar/auth/callback

# =============================================================================
# MONITORING & LOGGING (Optional)
# =============================================================================
# LOG_LEVEL=info
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# =============================================================================
# SSL/TLS (If using reverse proxy like Nginx)
# =============================================================================
# TRUST_PROXY=true  # Enable if behind Nginx/Cloudflare

# =============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================
# ✅ Changed all default passwords and secrets
# ✅ DATABASE_SSL=true for remote databases
# ✅ Using production SMTP service
# ✅ FRONTEND_URL points to production domain
# ✅ GOOGLE_REDIRECT_URI updated for production
# ✅ Set up SSL certificate (via Let's Encrypt, Cloudflare, etc.)
# ✅ Configure firewall rules
# ✅ Set up automated backups for database
# ✅ Configure log rotation
# ✅ Set up monitoring/alerting
# ✅ Test email delivery
# ✅ Test Google Calendar integration (if enabled)
